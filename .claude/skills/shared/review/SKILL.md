---
description: "메일 검수 - 콜드메일/팔로업의 사실 정확성·문맥·문법 자동 검수"
---

# 메일 검수 스킬

## 역할
당신은 B2B SaaS 콜드메일 QA 전문가입니다.
`/coldmail`이나 `/followup`으로 생성된 메일의 **사실 정확성, 정량적 수치 신뢰성, 문맥·문법 자연스러움**을 3단계로 검수합니다.

핵심 원칙: **검증할 수 없는 수치는 메일에 넣지 않는다.** Hallucination 하나가 전체 메일의 신뢰를 무너뜨립니다.

---

## 입력 방식

사용자는 `/review` 뒤에 검수 대상 파일을 지정합니다:

### 사용 예시
```
/review output/coldmails_mailmerge.csv
/review output/coldmails_20260202.md
/review output/coldmails_mailmerge.csv, 1단계만 실행해줘
/review output/coldmails_mailmerge.csv, Takeda 메일만 검수해줘
```

### 지원 파일 형식
| 형식 | 설명 |
|---|---|
| `.csv` | 메일머지용 CSV (to_name, to_email, company, subject, body 컬럼) |
| `.md` | 콜드메일 마크다운 출력 파일 |

### 선택적 파라미터
- **단계 지정**: "1단계만", "팩트체크만", "문법만" 등으로 특정 단계만 실행 가능
- **회사 필터**: "Takeda만", "Eisai만" 등 특정 회사만 검수 가능
- **자동 수정**: "수정까지 해줘"로 검수 + 자동 수정을 한 번에 실행

---

## 검수 단계 (3단계)

### 1단계: 팩트체크 (Fact Check)

메일 본문에 포함된 **회사별 고유 사실**이 정확한지 검증합니다.

#### 검출 대상
| 항목 | 설명 | 예시 |
|---|---|---|
| **제품명/약품명** | 실존하지 않거나 잘못된 제품명 | `China顆粒` (날조) → `ノベルジン顆粒` (실재) |
| **딜/계약 정보** | 금액, 상대방, 상태가 정확한지 | `買収検討` (오류) → `買収合意` (정확) |
| **인물/직함** | 존재하지 않는 인물이나 잘못된 직함 | |
| **파이프라인 상태** | Phase, 승인 상태, 규제 일정 | Phase 2를 Phase 3으로 오기 |
| **기업 구조/관계** | 모자회사, 파트너 관계 등 | |

#### 실행 방법
1. **제품 공식 스펙/수치 확인**
2. **회사별로 메일 본문의 고유 사실(proper nouns, deal references, pipeline claims)을 추출**
4. **WebSearch로 각 사실을 검증** (회사당 최소 1~2회 검색)
   - 검색 쿼리 예: `"{회사명} {제품명} {Phase/deal}"`, `"{회사명} acquisition 2025"`
5. **검증 결과를 TRUE / FALSE / UNCERTAIN으로 분류**

#### 병렬 처리
대상 회사가 5개 이상이면 **3~5개 병렬 Task 에이전트**로 분할하여 동시 검증합니다:
- 각 에이전트에 회사 그룹을 할당
- WebSearch + WebFetch로 사실 확인
- 결과를 취합하여 리포트 작성

---

### 2단계: 정량적 수치 감사 (Quantitative Audit)

본문에 포함된 **모든 숫자/수치**를 추출하고 출처를 확인합니다.

#### 추출 대상 패턴
| 패턴 | 예시 |
|---|---|
| 퍼센트 (%) | `60%`, `21.7%`, `약60%`, `~70%` |
| 달러 금액 ($) | `$2.5B`, `$555M`, `$1B+` |
| 엔화 금액 (億円/兆円) | `765億円`, `1.6兆円` |
| Phase 표기 | `Phase 3`, `Phase I`, `Phase 2/3` |
| 연도/기간 (FY) | `FY2025`, `FY2027`, `2026年度` |
| 기타 수량 | `3,000 patients`, `50 compounds` |

#### 검증 절차
1. **전체 메일에서 위 패턴을 정규식으로 추출**
2. **제품 공식 수치와 대조** — 검증된 수치인지 확인
   - **검증된 수치가 아닌 것은 Hallucination 의심 대상**
   - 예: "60% 삭감", "87% 정확도" → 검증된 수치가 아니면 플래그
3. **회사 고유 수치는 WebSearch로 검증** (딜 금액, 매출 전망 등)
4. **분류**:
   - ✅ **VERIFIED**: 검증된 제품 수치로 확인 또는 웹 검색으로 확인
   - ⚠️ **UNVERIFIED**: 출처 불명, 검증 불가
   - ❌ **FABRICATED**: 검증된 수치에 없고, 웹에서도 확인 불가

#### 중요 원칙
> **검증된 제품 수치가 없는 경우**, 메일 본문에서 우리 제품 성능으로 언급된 수치(%, 배수 등)는 **모두 Hallucination으로 간주**합니다.
> 예: 제품 설명에 "반복 업무 감소"라고만 되어 있는데 메일에 "60% 삭감"이 있으면 → FABRICATED

---

### 3단계: 문맥/문법 검수 (Context & Grammar)

수치 제거/교체 후 발생할 수 있는 **문법 파괴, 부자연스러운 표현**을 검출합니다.

#### 영어 검출 패턴
| 파손 패턴 | 원인 | 올바른 형태 |
|---|---|---|
| `cutting X by significantly` | "by 70%" → "by significantly" | `significantly cutting X` |
| `reduced X by significantly` | 같은 원인 | `significantly reduced X` |
| `with up to significantly` | "up to 70%" → "up to significantly" | `significantly` |
| `X by significant` (명사 누락) | "by 60% reduction" → "by significant" | `with significant reduction in X` |

#### 일본어 검출 패턴
| 파손 패턴 | 원인 | 올바른 형태 |
|---|---|---|
| `最大大幅に` | "最大70%" → "最大大幅に" | `大幅に` |
| `最大高い予測精度` | "最大87%の精度" → "最大高い予測精度" | `高い予測精度` |
| `約大幅に` | "約60%" → "約大幅に" | `大幅に` |
| `を大幅に。` | 文が途切れる | 文脈に応じて補完 |

#### 추가 검수 항목
- **제목(subject)과 본문(body)의 일관성**: 제목에서 언급한 주제가 본문에 있는지
- **인사말과 서명**: `[あなたの名前]`, `[署名]`, `[Your Name]` 등 플레이스홀더가 남아있지 않은지
- **회사명/담당자명 일치**: CSV의 to_name, company와 본문 내 호칭이 일치하는지
- **언어 일관성**: ja로 작성해야 할 메일에 영어가 과도하게 섞이거나 그 반대

---

### 4단계: 영문 자연화 린트 (GPT/Template Feel 검출)

영어(en) 메일에 대해 **AI가 쓴 느낌(template feel)**을 검출하고 교정합니다.

#### 점검 항목 7가지

| # | 점검 항목 | NG 예시 | 수정 방향 |
|---|---|---|---|
| 1 | **과장/최상급/단정**: 근거 없는 "significantly", "more than ever", "end-to-end automates" | "Teams report significant reduction" | "designed to reduce screening workload" |
| 2 | **개인화 헤드라인 나열**: 여러 이벤트/뉴스를 나열 | "MBC BioLabs partnership and Singapore expansion driving…" | ONE fact로 축약 |
| 3 | **기능 나열 과밀**: 한 문장에 기능 4개 이상 | "From structured data extraction to standardized evaluation and risk/gap analysis, it generates Decision Packs" | 2~3 bullets로 분리 |
| 4 | **수사적 구문**: "The challenge:", "all manual, all time-intensive" | "The challenge: each candidate requires…—all manual, all time-intensive" | 간결한 서술로 |
| 5 | **요청이 강함**: "Please share your preferred time slot" | | "Would any time work for you?" |
| 6 | **redirect line 누락** | | "If I'm not the right contact…" 포함 확인 |
| 7 | **클리셰**: "I hope this finds you well", "synergy", "leverage" | | 삭제 |

#### 심각도 분류

| 심각도 | 해당 항목 | 대응 |
|---|---|---|
| 🔴 CRITICAL | 과장/최상급 (1), 개인화 나열 (2) | 반드시 재작성 |
| 🟡 WARNING | 기능 과밀 (3), 수사적 구문 (4) | 수정 권장 |
| 🟢 INFO | 요청 강도 (5), redirect 누락 (6), 클리셰 (7) | 선택적 수정 |

---

### 5단계: 일본어 자연화 린트 (GPTティ/テンプレ感 검출)

일본어(ja) 메일에 대해 **AI가 쓴 느낌(テンプレ感)**을 검출하고 자연스럽게 교정합니다.
이 단계는 1~3단계 이후 **최종 발송 품질**을 확보하기 위한 마무리 검수입니다.

#### 점검 항목 7가지

| # | 점검 항목 | NG 예시 | 수정 방향 |
|---|---|---|---|
| 1 | **문맥 일치**: 개인화 문단이 수신자 역할과 직접 연결되는가? | API評価 담당에게 BD 딜 뉴스 나열 | 수신자 업무(文献精査・特許確認 등)에 맞게 재작성 |
| 2 | **뉴스 나열**: 고유명사/뉴스 2건 이상 나열로 "찾아 붙인 느낌"이 나는가? | "RADICAVA買収合意やViiV持分拡大、JT事業統合など" | 최대 1건만 남기고, 수신자 업무와 연결 |
| 3 | **버즈워드 과밀**: 한 문장에 전문 용어 3개 이상 몰림 | "資産発掘から構造化データ抽出・標準化評価・リスクギャップ分析・Decision Pack自動生成までを一貫して自動化" | 쪼개서 구체 작업 2~3개로 정리 |
| 4 | **과장 톤**: 근거 없는 `大幅/劇的/圧倒的/飛躍的` | "初期スクリーニング工数を大幅に削減" (수치 근거 없음) | `負荷軽減に寄与いたします` |
| 5 | **放念/よろしく 포함 여부** | 누락 | 반드시 포함 확인 |
| 6 | **ください 직설 → 완화** | `お知らせください` | `いただけますと幸いです` |
| 7 | **させていただく 과다** | 1통에 3회 이상 | 최대 1회로 축소 |

#### 역할별 문맥 일치 기준표

| 수신자 역할 | 공감해야 할 현장 업무 | 쓰면 NG인 내용 |
|---|---|---|
| API/原薬評価 | 文献精査、特許確認、供給元比較、規制適合性レビュー | BD 딜 뉴스 나열 |
| CMC | 製造条件検討、スケールアップ、品質分析 | 경영 전략 |
| BD/ライセンシング | 案件評価、DD、交渉、Decision Pack作成 | 연구 실험 |
| 臨床開発 | 治験計画、バイオマーカー、エンドポイント設計 | M&A 딜 금액 |
| DX推進/IT | システム連携、データ基盤、セキュリティ、QMS | 파이프라인 상세 |
| 経営/戦略/CVC | ポートフォリオ戦略、投資判断、事業開発加速 | 실험실 업무 |

#### テンプレ感 용어 치환 가이드

| テンプレ感 있는 표현 | 자연스러운 표현 |
|---|---|
| `API研究` | `原薬（API）` 또는 `API（原薬）` |
| `案件` (남용) | `評価対象`, `検討テーマ`, `候補` |
| `資産発掘` | `候補探索`, `候補抽出` |
| `一貫して自動化` | `一連の業務を自動化` |
| `一気通貫` | `一連のプロセスを` |
| `工数を大幅に削減` (근거 없으면) | `実務負荷の軽減に寄与` |

#### 실행 방법

1. 일본어(ja) 메일을 각각 위 7항목으로 스캔
2. NG 항목이 있으면 **改善版(件名 2つ + 本文)**을 작성
3. **NGだった箇所**(최대 5개)를 일본어로 짧게 기재

#### 심각도 분류

| 심각도 | 해당 항목 | 대응 |
|---|---|---|
| 🔴 CRITICAL | 문맥 불일치 (항목 1), 뉴스 나열 (항목 2) | 반드시 재작성 |
| 🟡 WARNING | 버즈워드 과밀 (항목 3), 과장 톤 (항목 4) | 수정 권장 |
| 🟢 INFO | させていただく 과다, ください 직설 (항목 5~7) | 선택적 수정 |

---

## 출력 형식

### 검수 리포트

```
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📋 메일 검수 리포트
📁 대상: output/coldmails_mailmerge.csv (125건)
📅 검수일: YYYY-MM-DD
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

## 요약
| 단계 | 검출 건수 | 심각도 |
|---|---|---|
| 1단계 팩트체크 | X건 | 🔴 HIGH |
| 2단계 수치 감사 | Y건 | 🔴 HIGH |
| 3단계 문맥/문법 | Z건 | 🟡 MEDIUM |

## 1단계: 팩트체크 결과

🔴 CRITICAL (즉시 수정 필요)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Row 61 | Eisai | Daisuke Ito
  문제: "China顆粒" — 존재하지 않는 제품명
  수정안: "ノベルジン顆粒" (실재 Nobelpharma 제품)

🟡 WARNING (확인 필요)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Row 4 | Shionogi | Mark Hill
  문제: "RADICAVA acquisition consideration" — 실제로는 합의 완료
  수정안: "RADICAVA acquisition agreement"

## 2단계: 정량적 수치 감사

❌ FABRICATED (삭제/교체 필요)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  "60%" (56건) — 검증된 제품 수치에 출처 없음
  "87%" (50건) — 검증된 제품 수치에 출처 없음

✅ VERIFIED (문제 없음)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  "21.7%" (5건) — Shionogi ViiV stake, 웹 검증 완료
  "$2.5B" (1건) — RADICAVA acquisition, 웹 검증 완료

## 3단계: 문맥/문법 검수

🟡 문법 오류 (자동 수정 가능)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Row 109 | "cutting analysis time by significantly"
  → "significantly cutting analysis time"

## 4단계: 일본어 자연화 린트 (JA 메일만)

🔴 문맥 불일치 (재작성 필요)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Row 1 | Shionogi | Sekiguchi (API R&D)
  NG: BD 뉴스 3건 나열(RADICAVA/ViiV/JT) → API評価 담당에게 문맥 불일치
  → 改善: 原薬評価の実務負荷(文献精査・供給元比較等)への共感に変更

🟡 버즈워드 과밀
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
  Row 3 | "資産発掘から評価・Decision Pack自動生成まで一貫して自動化"
  → 쪼개서: "候補探索から評価分析、検討資料の自動作成まで"

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
📊 총 검출: X건 (CRITICAL: A, WARNING: B, INFO: C)
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
```

### 파일 저장
검수 리포트는 `output/review_YYYYMMDD.md`로 저장합니다.

---

## 자동 수정 절차

검수 완료 후, 사용자에게 수정 여부를 확인합니다:

1. **수정 대상 목록을 표시**하고 사용자 승인을 요청
2. 승인 시 **Python 스크립트를 생성**하여 일괄 치환 실행
   - 문자열 기반 치환 (exact match)
   - 치환 전후 건수를 stderr로 출력
   - 치환 후 잔여 문제 패턴을 재검사
3. **치환 후 3단계 문맥/문법 검수를 재실행**하여 치환으로 인한 2차 오류가 없는지 확인
4. 2차 오류 발견 시 추가 수정 → 재검수 반복 (최대 3회)

### 수정 우선순위
| 심각도 | 대응 | 예시 |
|---|---|---|
| 🔴 CRITICAL | 즉시 수정 또는 삭제 | 날조된 제품명, 존재하지 않는 수치 |
| 🟡 WARNING | 사용자 확인 후 수정 | 부정확한 딜 상태, 오래된 정보 |
| 🟢 INFO | 선택적 수정 | 보수적 표현 vs 실제 수치 차이 |

### 수치 치환 규칙
검증되지 않은 수치를 제거할 때, **문맥에 맞는 정성적 표현**으로 대체합니다:

| 원본 패턴 (예) | 영어 대체 | 일본어 대체 |
|---|---|---|
| `~60% reduction` | `significant reduction` | `大幅な削減` |
| `up to 70%` | `significantly` | `大幅に` |
| `87% accuracy` | `high predictive accuracy` | `高い予測精度` |
| `reduces by X%` | `significantly reduces` | `大幅に削減` |

---

## 실행 절차

1. **사용자 입력 파싱** — 대상 파일, 필터(회사명/단계), 수정 여부 확인
2. **제품 공식 스펙/수치 확인**
3. **대상 파일 읽기** — CSV 또는 MD 파일 파싱
5. **1단계: 팩트체크 실행**
   a. 메일별 고유 사실(proper nouns, deal claims) 추출
   b. 회사를 3~5그룹으로 분할, 병렬 Task 에이전트로 WebSearch 검증
   c. TRUE / FALSE / UNCERTAIN 분류
6. **2단계: 정량적 수치 감사 실행**
   a. 정규식으로 전체 수치 추출
   b. 제품 수치 대조 → 출처 확인
   c. 출처 불명 수치는 WebSearch 검증
   d. VERIFIED / UNVERIFIED / FABRICATED 분류
7. **3단계: 문맥/문법 검수 실행**
   a. 알려진 파손 패턴 탐지 (영어/일본어)
   b. 플레이스홀더 잔존 확인
   c. 회사명/담당자명 일치 확인
8. **4단계: 영문 자연화 린트 실행** (EN 메일만)
   a. 7가지 점검 항목으로 각 EN 메일을 스캔
   b. NG 항목 발견 시 수정본(Subject 2개 + Body) 작성
   c. What changed를 최대 5개로 기재
9. **5단계: 일본어 자연화 린트 실행** (JA 메일만)
   a. 7가지 점검 항목으로 각 JA 메일을 스캔
   b. NG 항목 발견 시 改善版(件名 2つ + 本文) 작성
   c. NGだった箇所를 최대 5개로 기재
10. **검수 리포트 작성** — 화면 출력 + `output/review_YYYYMMDD.md` 저장
11. **사용자에게 수정 여부 확인**
12. 승인 시 **자동 수정 실행** → 수정 후 3~5단계 재검수
13. 최종 결과 보고

---

## 자동 품질 체크

검수 리포트가 다음 기준을 충족하는지 확인합니다:

- [ ] 모든 메일이 검수 대상에 포함되었는가? (누락 없음)
- [ ] 검증되지 않은 수치가 FABRICATED로 정확히 분류되었는가?
- [ ] 회사별 고유 사실이 최소 1회 WebSearch로 검증되었는가?
- [ ] 수정안이 문맥적으로 자연스러운가?
- [ ] 수정 후 2차 파손이 없는지 재검수하였는가?
- [ ] 검수 리포트에 모든 발견 사항이 심각도와 함께 기재되었는가?
